# 元素嵌套规则调研


## 支持的类型


块级元素


标签| 类型  
---|---  
Header（h1 - h6）| 标题  
Paragraph| 文本  
Blockquote| 引用  
Code-block| 代码块  
Check-list-item| 任务列表 todo-list  
Unordered-list| 无序列表  
Ordered-list| 有序列表  
List-item| list 子元素  
List-lic| list-item 子元素  
Table| 表格  
Table-row| 行  
Table-cell| 单元格





行内元素


标签| 类型  
---|---  
a| 链接  
img| 图片  
span, i, b, strong, code, del| 文本元素





## 嵌套规则


### Header


**光标在模块内部时，可用的菜单项**


菜单类型| 腾讯文档是否可用| 石墨文档与腾讯文档是否一致  
---|---|---  
正文| 是（内容切换为正文）| 一致  
标题| 是（内容切换为其他标题）| 一致  
斜体| 是| 一致  
粗体| 否| 一致  
下划线| 是| 一致  
删除线| 是| 一致  
插入引用| 是（切换为引用）| 一致  
任务列表| 是（切换为任务列表）| 一致  
无序列表| 是（切换为无序列表）| 一致  
有序列表| 是（切换为有序列表）| 一致  
插入表格| 是（将标题分开，插入表格）| 一致  
插入代码块| 是（将标题分开，插入代码块）| 是（切换为代码块）  
插入链接| 是| 一致  
插入图片| 是| 一致  
文本布局| 是| 一致





结论：粗体是否能够使用，不一致； 插入代码块的行为不一致





**可以包含的子元素**


元素| 腾讯文档| 石墨文档  
---|---|---  
行内元素| 是| 是


****


**其他行为：默认标题**


腾讯文档：不支持默认标题


石墨文档：有一个输入默认标题的模块，当输入默认标题时，工具栏不能使用


![](https://dev.seafile.com/seahub/api/v2.1/seadoc/download-image/e9acd5b2-3ac9-4215-8242-6a6e888cc21e/image-1688451231651.png)





### Paragraph


**光标在模块内部时，可用的菜单项**


菜单类型| 腾讯文档是否可用| 石墨文档与腾讯文档是否一致  
---|---|---  
正文| 是（内容切换为正文）| 一致  
标题| 是（内容切换为标题）| 一致  
斜体| 是| 一致  
粗体| 是| 一致  
下划线| 是| 一致  
删除线| 是| 一致  
任务列表| 是| 一致  
插入引用| 是（切换为引用）| 一致  
无序列表| 是（切换为无序列表）| 一致  
有序列表| 是（切换为有序列表）| 一致  
插入表格| 是（将段落分开，插入表格）| 一致  
插入代码块| 是（将段落分开，插入代码块）| 否（将内容切换为代码块）  
插入链接| 是| 一致  
插入图片| 是| 一致  
文本布局| 是| 一致


结论： 插入代码块的行为不一致





可以包含的子元素


元素| 腾讯文档| 石墨文档  
---|---|---  
行内元素| 是| 是


### Blockquote


**光标在模块内部时，可用的菜单项**


菜单类型| 腾讯文档是否可用| 石墨文档与腾讯文档是否一致  
---|---|---  
正文| 是（内容包含正文， 默认）| 否（菜单不可用）  
标题| 是（内容包含标题）| 否（菜单不可用）  
斜体| 是| 一致  
粗体| 是| 一致  
下划线| 是| 一致  
删除线| 是| 一致  
插入引用| 是（切换为段落）| 否（菜单不可用）  
任务列表| 是（内容包含任务列表）| 否（菜单不可用）  
无序列表| 是（内容包含无序列表）| 否（菜单不可用）  
有序列表| 是（内容包含有序列表）| 否（菜单不可用）  
插入表格| 是（将blockquote分开，插入表格）| 否（菜单不可用）  
插入代码块| 是（将blcokquote分开，插入代码块）| 否（菜单不可用）  
插入链接| 是| 一致  
插入图片| 是| 一致  
文本布局| 是| 一致


****


**可以包含的子元素**


元素| 腾讯文档| 石墨文档  
---|---|---  
行内元素| 是| 是  
header| 是| 否  
任务列表| 是| 否  
无序列表| 是| 否  
有序列表| 是| 否





腾讯文档demo


默认状态


![](https://dev.seafile.com/seahub/api/v2.1/seadoc/download-image/e9acd5b2-3ac9-4215-8242-6a6e888cc21e/image-1688456599788.png)


包含 header


![](https://dev.seafile.com/seahub/api/v2.1/seadoc/download-image/e9acd5b2-3ac9-4215-8242-6a6e888cc21e/image-1688456463966.png)


****


包含任务列表


![](https://dev.seafile.com/seahub/api/v2.1/seadoc/download-image/e9acd5b2-3ac9-4215-8242-6a6e888cc21e/image-1688456505816.png)


包含无序列表


![](https://dev.seafile.com/seahub/api/v2.1/seadoc/download-image/e9acd5b2-3ac9-4215-8242-6a6e888cc21e/image-1688456531507.png)


包含有序列表


![](https://dev.seafile.com/seahub/api/v2.1/seadoc/download-image/e9acd5b2-3ac9-4215-8242-6a6e888cc21e/image-1688456550188.png)





### Code-block


**光标在模块内部时，可用的菜单项**


菜单类型| 腾讯文档是否可用| 石墨文档与腾讯文档是否一致  
---|---|---  
正文| 否| 一致  
标题| 否| 一致  
斜体| 否| 一致  
粗体| 否| 一致  
下划线| 否| 一致  
删除线| 否| 一致  
插入引用| 否| 一致  
任务列表| 是（内容包含任务列表）| 否（菜单项不能用）  
无序列表| 是（内容包含无序列表）| 否（菜单项不能用）  
有序列表| 是（内容包含有序列表）| 否（菜单项不能用）  
插入表格| 否| 一致  
插入代码块| 否| 一致  
插入链接| 否| 一致  
插入图片| 否| 一致  
文本布局| 否| 一致





**可以包含的子元素**


元素| 腾讯文档| 石墨文档  
---|---|---  
任务列表| 是| 否  
无序列表| 是| 否  
有序列表| 是| 否





### Check-list-item(任务列表)


**光标在模块内部时，可用的菜单项**


菜单类型| 腾讯文档是否可用| 石墨文档与腾讯文档是否一致  
---|---|---  
正文| 是（内容包含正文，默认状态）| 一致  
标题| 是（内容包含标题）| 一致  
斜体| 是| 一致  
粗体| 是| 一致  
下划线| 是| 一致  
删除线| 是| 一致  
插入引用| 是（将内容包裹在 blockquote 中）| 否（将内容切换为blockquote）  
任务列表| 是（切换为正常文本）| 一致  
无序列表| 是（切换为无序列表）| 一致  
有序列表| 是（切换为有序列表）| 一致  
插入表格| 是（将任务列表分开，插入表格）| 一致  
插入代码块| 是（将任务列表分开，插入代码块）| 否（直接切换为代码块）  
插入链接| 是| 一致  
插入图片| 是| 一致  
文本布局| 是| 一致





可以包含的子元素


元素| 腾讯文档| 石墨文档  
---|---|---  
行内元素| 是| 是  
header| 是| 是





### Unordered-list


**光标在模块内部时，可用的菜单项**


菜单类型| 腾讯文档是否可用| 石墨文档与腾讯文档是否一致  
---|---|---  
正文| 是（内容包含正文，默认状态）| 一致  
标题| 是（内容包含标题）| 一致  
斜体| 是| 一致  
粗体| 是| 一致  
下划线| 是| 一致  
删除线| 是| 一致  
插入引用| 是（将内容包裹在 blockquote 中）| 否（将内容切换为 blockquote）  
任务列表| 是（切换为任务列表）| 一致  
无序列表| 是（切换为正常文本）| 一致  
有序列表| 是（切换为有序列表）| 一致  
插入表格| 是（将无序列表分开，插入表格）| 一致  
插入代码块| 是（将无序列表分开，插入代码块）| 否（直接切换为代码块）  
插入链接| 是| 一致  
插入图片| 是| 一致  
文本布局| 是| 一致





可以包含的子元素


元素| 腾讯文档| 石墨文档  
---|---|---  
行内元素| 是| 是  
header| 是| 是  
ordered-list| 是| 是  
unordered-list| 是| 是  
table| 是| 否  
code-block| 是| 否





### Ordered-list


**光标在模块内部时，可用的菜单项**


菜单类型| 腾讯文档是否可用| 石墨文档与腾讯文档是否一致  
---|---|---  
正文| 是（内容包含正文，默认状态）| 一致  
标题| 是（内容包含标题）| 一致  
斜体| 是| 一致  
粗体| 是| 一致  
下划线| 是| 一致  
删除线| 是| 一致  
插入引用| 是（将内容包裹在 blockquote 中）| 否（将内容切换为 blockquote）  
任务列表| 是（切换为任务列表）| 一致  
无序列表| 是（切换为无序列表）| 一致  
有序列表| 是（切换为正常文本）| 一致  
插入表格| 是（将无序列表分开，插入表格）| 一致  
插入代码块| 是（将无序列表分开，插入代码块）| 否（直接切换为代码块）  
插入链接| 是| 一致  
插入图片| 是| 一致  
文本布局| 是| 一致





可以包含的子元素


元素| 腾讯文档| 石墨文档  
---|---|---  
行内元素| 是| 是  
header| 是| 是  
code-block| 是| 否  
unordered-list| 是| 是  
ordered-list| 是| 是  
table| 是| 否





### Table


**光标在模块内部时，可用的菜单项**


**选中整个表格时：针对的时整个表格的单元格**


菜单类型| 腾讯文档是否可用| 石墨文档与腾讯文档是否一致  
---|---|---  
正文| 是（作用与单元格内容，默认）| 不能使用  
标题| 是| 不能使用  
斜体| 是| 一致  
粗体| 是| 一致  
下划线| 是| 一致  
删除线| 是| 一致  
插入引用| 是| 否，不能使用  
任务列表| 是| 一致  
无序列表| 是| 一致  
有序列表| 是| 一致  
插入表格| 否| 一致  
插入代码块| 否| 一致  
插入链接| 否| 一致  
插入图片| 是| 否，不能使用  
文本布局| 是| 一致


****


**选中某个单元格时：**


菜单类型| 腾讯文档是否可用| 石墨文档与腾讯文档是否一致  
---|---|---  
正文| 是（作用与单元格内容，默认）| 不能使用  
标题| 是| 不能使用  
斜体| 是| 一致  
粗体| 是| 一致  
下划线| 是| 一致  
删除线| 是| 一致  
插入引用| 是| 否，不能使用  
任务列表| 是| 一致  
无序列表| 是| 一致  
有序列表| 是| 一致  
插入表格| 否| 一致  
插入代码块| 否| 一致  
插入链接| 是| 一致  
插入图片| 是| 一致  
文本布局| 是| 一致





Table-cell 可以包含的子元素


元素| 腾讯文档| 石墨文档  
---|---|---  
行内元素| 是| 是  
header| 是| 是  
blockquote| 是| 否  
check-list-item| 是| 是  
unordered-list| 是| 是  
ordered-list| 是| 是




